<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="DELETE">
        <category>custom</category>
        <client_script><![CDATA[function($scope, spUtil) {
  $scope.watch_list = {
    displayValue: $scope.data.displayValue,
    value: $scope.data.value,
    name: 'watch_list'
  };

	$scope.$on("field.change", function(evt, args) {
    $scope.data.displayValue = args.field.displayValue;
    $scope.data.value = args.field.value;
    $scope.server.update().then(function(results) {
      console.log(results);
    });
  });
}]]></client_script>
        <controller_as>c</controller_as>
        <css>.panel-heading {&#13;
  border-radius:2px;&#13;
} &#13;
&#13;
.sp-geo-canvas-container {&#13;
  height: 400px; &#13;
  width: 100%;&#13;
}&#13;
&#13;
.other-name {&#13;
  vertical-align:bottom;&#13;
  padding-left:4px;&#13;
  font-size:0.9em;&#13;
}&#13;
&#13;
.other-item {&#13;
  padding:2px;&#13;
  white-space:nowrap;&#13;
}&#13;
&#13;
.map-icon {&#13;
  vertical-align:bottom;&#13;
  height:30px;&#13;
  padding:4px 0px 4px 4px;&#13;
}  </css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id/>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Ratelock Ticket Watchlist</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  var gr = $sp.getRecord();
  if (gr == null) return;

  data.canRead = $sp.canReadRecord(gr);
  data.canWrite = gr.canWrite() && !gr.isNewRecord();
  if (input && !gr.isNewRecord()) {
    gr.setValue('watch_list', input.value, input.displayValue);
    gr.update();
  }

  data.value = gr.getValue('watch_list');
  data.displayValue = gr.getDisplayValue('watch_list');
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>douglas.schamberg</sys_created_by>
        <sys_created_on>2020-03-10 19:35:16</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>f0844f90db6b0890f2551329689619f2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Ratelock Ticket Watchlist</sys_name>
        <sys_package display_value="Ratelock" source="x_momo_ratelock">605affb71badc01048a242e58d4bcb76</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Ratelock">605affb71badc01048a242e58d4bcb76</sys_scope>
        <sys_update_name>sp_widget_f0844f90db6b0890f2551329689619f2</sys_update_name>
        <sys_updated_by>douglas.schamberg</sys_updated_by>
        <sys_updated_on>2020-03-10 19:35:16</sys_updated_on>
        <template><![CDATA[<div ng-if="data.canRead" class="panel panel-primary b">
  <div class="panel-heading">
    <div class="panel-title pull-left" role="heading" aria-level="2">
      ${Watch List}
    </div>
    <div class="clearfix"></div>
  </div>
  <div class="panel-body">
    <div class="text-center text-italic text-muted">
      <ratelock-record-picker
        field="watch_list"
        sn-disabled="!data.canWrite" 
        table="'sys_user'"
        display-field="'name'" 
        search-fields="'email'" 
        value-field="'sys_id'" 
        default-query="'active=true'" 
        multiple="true"
        placeholder="Select a User..."
      ></ratelock-record-picker>
    </div>
  </div>
</div>
]]></template>
    </sp_widget>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Ratelock">605affb71badc01048a242e58d4bcb76</application>
        <file_path/>
        <instance_id>94e8281edbb7470060a6f0e5bf9619f6</instance_id>
        <instance_name>movementdev</instance_name>
        <name>sp_widget_f0844f90db6b0890f2551329689619f2</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, spUtil) {
  $scope.watch_list = {
    displayValue: $scope.data.displayValue,
    value: $scope.data.value,
    name: 'watch_list'
  };

	$scope.$on("field.change", function(evt, args) {
    $scope.data.displayValue = args.field.displayValue;
    $scope.data.value = args.field.value;
    $scope.server.update().then(function(results) {
      console.log(results);
    });
  });
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.panel-heading {&amp;#13;
  border-radius:2px;&amp;#13;
} &amp;#13;
&amp;#13;
.sp-geo-canvas-container {&amp;#13;
  height: 400px; &amp;#13;
  width: 100%;&amp;#13;
}&amp;#13;
&amp;#13;
.other-name {&amp;#13;
  vertical-align:bottom;&amp;#13;
  padding-left:4px;&amp;#13;
  font-size:0.9em;&amp;#13;
}&amp;#13;
&amp;#13;
.other-item {&amp;#13;
  padding:2px;&amp;#13;
  white-space:nowrap;&amp;#13;
}&amp;#13;
&amp;#13;
.map-icon {&amp;#13;
  vertical-align:bottom;&amp;#13;
  height:30px;&amp;#13;
  padding:4px 0px 4px 4px;&amp;#13;
}  &lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id/&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link&gt;&lt;![CDATA[function link(scope, element, attrs, controller) {  }]]&gt;&lt;/link&gt;&lt;name&gt;Ratelock Ticket Watchlist&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
  var gr = $sp.getRecord();
  if (gr == null) return;

  data.canRead = $sp.canReadRecord(gr);
  data.canWrite = gr.canWrite() &amp;&amp; !gr.isNewRecord();
  if (input &amp;&amp; !gr.isNewRecord()) {
    gr.setValue('watch_list', input.value, input.displayValue);
    gr.update();
  }

  data.value = gr.getValue('watch_list');
  data.displayValue = gr.getDisplayValue('watch_list');
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;douglas.schamberg&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-03-10 19:35:16&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;f0844f90db6b0890f2551329689619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Ratelock Ticket Watchlist&lt;/sys_name&gt;&lt;sys_package display_value="Ratelock" source="x_momo_ratelock"&gt;605affb71badc01048a242e58d4bcb76&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Ratelock"&gt;605affb71badc01048a242e58d4bcb76&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_f0844f90db6b0890f2551329689619f2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;douglas.schamberg&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-03-10 19:35:16&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div ng-if="data.canRead" class="panel panel-primary b"&gt;
  &lt;div class="panel-heading"&gt;
    &lt;div class="panel-title pull-left" role="heading" aria-level="2"&gt;
      ${Watch List}
    &lt;/div&gt;
    &lt;div class="clearfix"&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="panel-body"&gt;
    &lt;div class="text-center text-italic text-muted"&gt;
      &lt;ratelock-record-picker
        field="watch_list"
        sn-disabled="!data.canWrite" 
        table="'sys_user'"
        display-field="'name'" 
        search-fields="'email'" 
        value-field="'sys_id'" 
        default-query="'active=true'" 
        multiple="true"
        placeholder="Select a User..."
      &gt;&lt;/ratelock-record-picker&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
        <payload_hash>-1181730275</payload_hash>
        <record_name>Ratelock Ticket Watchlist</record_name>
        <reverted_from/>
        <source>74fc5f651b5a401048a242e58d4bcbbc</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>douglas.schamberg</sys_created_by>
        <sys_created_on>2020-03-10 19:35:16</sys_created_on>
        <sys_id>70844f90db6b0890f2551329689619f5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>170c5f1b4290000001</sys_recorded_at>
        <sys_updated_by>douglas.schamberg</sys_updated_by>
        <sys_updated_on>2020-03-10 19:35:16</sys_updated_on>
        <type>Widget</type>
        <update_guid>78844f90e26b089080dcbaeac4ad1df4</update_guid>
        <update_guid_history>78844f90e26b089080dcbaeac4ad1df4:-1181730275</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete display_value="">99e48fd0db6b0890f25513296896193c</sys_audit_delete>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>douglas.schamberg</sys_created_by>
        <sys_created_on>2020-03-10 19:36:56</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_db_object display_value="" name="sp_widget">sp_widget</sys_db_object>
        <sys_id>6c9d231711e143a0b2f9494bd6a7c400</sys_id>
        <sys_metadata>f0844f90db6b0890f2551329689619f2</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Ratelock Ticket Watchlist</sys_name>
        <sys_package display_value="Ratelock" source="x_momo_ratelock">605affb71badc01048a242e58d4bcb76</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Ratelock">605affb71badc01048a242e58d4bcb76</sys_scope>
        <sys_scope_delete display_value="">57712118eaee4a49ae47b2048a14ac31</sys_scope_delete>
        <sys_update_name>sp_widget_f0844f90db6b0890f2551329689619f2</sys_update_name>
        <sys_update_version display_value="sp_widget_f0844f90db6b0890f2551329689619f2">70844f90db6b0890f2551329689619f5</sys_update_version>
        <sys_updated_by>douglas.schamberg</sys_updated_by>
        <sys_updated_on>2020-03-10 19:36:56</sys_updated_on>
    </sys_metadata_delete>
</record_update>
